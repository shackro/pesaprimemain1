<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="/pesaprime.jpeg" className="size-4 rounded-full"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="PesaDash - Personal Finance Dashboard" />
    
    <title>PesaPrime - Personal Finance Dashboard</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Tailwind Configuration -->
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            animation: {
              'spin-slow': 'spin 3s linear infinite',
              'scroll': 'scroll 40s linear infinite',
            },
            keyframes: {
              spin: {
                to: { transform: 'rotate(360deg)' }
              },
              scroll: {
                '0%': { transform: 'translateX(0)' },
                '100%': { transform: 'translateX(calc(-250px * 4))' } // Reduced from 7 to 4
              }
            }
          }
        }
      }
    </script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
    
    <style>
      /* Base Styles - ADD OVERFLOW CONTROL */
      * {
        transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        box-sizing: border-box;
      }

      html, body, #root {
        height: 100%;
        margin: 0;
        padding: 0;
        overflow-x: hidden; /* PREVENT HORIZONTAL SCROLL */
        max-width: 100vw;
      }

      /* Dark mode styles */
      .dark {
        color-scheme: dark;
      }
      
      .dark body {
        background-color: #111827;
        color: white;
      }

      /* Loading Animation */
      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      .animate-spin-slow {
        animation: spin 3s linear infinite;
      }

      /* Carousel Animation - FIXED */
      @keyframes scroll {
        0% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(calc(-250px * 4)); /* Reduced from 7 to 4 */
        }
      }
      
      .animate-scroll {
        animation: scroll 40s linear infinite;
      }
      
      .animate-scroll:hover {
        animation-play-state: paused;
      }

      /* Custom Component Styles */
      .nav-btn.active {
        background-color: #7c2d12;
        transform: scale(1.05);
        border-width: 2px;
        border-color: white;
        color: #fbbf24;
      }

      .chat-container {
        font-family: 'SF Pro Text', -apple-system, BlinkMacSystemFont, sans-serif;
      }

      @keyframes slide-in-top {
        0% {
          transform: translateY(-30px);
          opacity: 1;
        }
        100% {
          transform: translateY(0) rotate(-90deg);
          opacity: 1;
        }
      }

      @keyframes slide-in-left {
        0% {
          transform: translateX(-10px);
          opacity: 0;
        }
        100% {
          transform: translateX(0);
          opacity: 1;
        }
      }
    </style>
  </head>
  <body class="bg-white text-gray-900 overflow-x-hidden"> <!-- ADDED overflow-x-hidden -->
    <div id="root" class="items-align-center justify-content-center text-center w-full">
      
       <!-- Loading screen that will be removed by React -->
      <div style="position: fixed; top: -2; left: -2; width: 100%; height: 100%; background: #4b5563; display: flex; justify-content: center; align-items: center; z-index: 9999;" class="dark:bg-gray-900">
        <div class="relative text-center items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" fill="currentColor" class="fill-green-600" viewBox="0 0 16 16">
            <path d="M5.5 9.511c.076.954.83 1.697 2.182 1.785V12h.6v-.709c1.4-.098 2.218-.846 2.218-1.932 0-.987-.626-1.496-1.745-1.76l-.473-.112V5.57c.6.068.982.396 1.074.85h1.052c-.076-.919-.864-1.638-2.126-1.716V4h-.6v.719c-1.195.117-2.01.836-2.01 1.853 0 .9.606 1.472 1.613 1.707l.397.098v2.034c-.615-.093-1.022-.43-1.114-.9zm2.177-2.166c-.59-.137-.91-.416-.91-.836 0-.47.345-.822.915-.925v1.76h-.005zm.692 1.193c.717.166 1.048.435 1.048.91 0 .542-.412.914-1.135.982V8.518z"/>
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
            <path d="M8 13.5a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11m0 .5A6 6 0 1 0 8 2a6 6 0 0 0 0 12"/>
          </svg>
          <div class="absolute -top-3 -left-3 h-20 w-20 rounded-full border-8 border-dotted border-green-600 animate-spin-slow dark:border-green-400"></div>
        </div>
      </div>
       
    </div>
    <script type="module" src="/src/main.tsx"></script>

    <!-- Script to initialize theme -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const getTheme = () => {
          if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
            return localStorage.getItem('theme');
          }
          if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
            return 'dark';
          }
          return 'light';
        };

        const theme = getTheme();
        if (theme === 'dark') {
          document.documentElement.classList.add('dark');
          document.body.classList.add('dark');
        } else {
          document.documentElement.classList.remove('dark');
          document.body.classList.remove('dark');
        }
      });
    </script>
  </body>
</html>
